<!DOCTYPE html>
<html>
<head>
  <title>Firebase Realtime Database Example</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
  <h1>Firebase Realtime Database Example</h1>
  <script>
    import { initializeApp } from "firebase/app";
    import { getDatabase } from "firebase/database";
    import { getDatabase, ref, set } from "firebase/database";

    function writeUserData(userId, name, email, imageUrl) {
       const db = getDatabase();
       set(ref(db, 'users/' + userId), {
       username: name,
       email: email,
        profile_picture : imageUrl
       });
    }
    
    // TODO: Replace the following with your app's Firebase project configuration
    // See: https://firebase.google.com/docs/web/learn-more#config-object
    const firebaseConfig = {
       // ...
      // The value of `databaseURL` depends on the location of the database
      databaseURL: "https://onec-homework-default-rtdb.firebaseio.com",
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);


    // Initialize Realtime Database and get a reference to the service
    const database = getDatabase(app);

    // Example: Read data from the database
    database.ref('users/').on('value', (snapshot) => {
      const users = snapshot.val();
      console.log(users);
    });

    // Example: Write data to the database
    const user = {
      name: 'John Doe',
      age: 30
    };
    database.ref('users/user1').set(user);
    alert("Hi");
  </script>
</body>
</html>
